<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>
    <!--<ProjectTypeGuids>{FAE04EC0-301F-11D3-BF4B-00C04F79EFBC}</ProjectTypeGuids>-->
    <!--VS project type is a function of the first ProjectTypeGuids found in the text of the project file-->
  </PropertyGroup>
  <!--
  
    Properties
  -->
  <Import Project="$([MSBuild]::GetDirectoryNameOfFileAbove($(MSBuildProjectDirectory)\, .pre.props))\.pre.props" />
  <Import Project="$([MSBuild]::GetDirectoryNameOfFileAbove($(MSBuildThisFileDirectory), .props))\.props" />
  <Import Project="$(ExtXfDir)\xf.dotnet.hierarchy.props" />
  <!--
  
    Universal
  -->
  <PropertyGroup Condition=" '$(Platform)' == '[none]' " />
  <PropertyGroup>
    <OutputType>Library</OutputType>
    <ProjectGuid>{9DB2F292-8034-4E06-89AD-98BBDA4306B9}</ProjectGuid>
    <AssemblyName>Xamarin.Forms.Xaml</AssemblyName>
    <RootNamespace>Xamarin.Forms.Xaml</RootNamespace>
  </PropertyGroup>
  <ImportGroup>
    <Import Project="nuspec.props" />
  </ImportGroup>
  <ItemGroup>
    <None Include="nuspec.props" />
  </ItemGroup>
  <!--
  
    Library
  -->
  <ItemGroup Condition="'$(IsLibraryPlatform)'=='true'">
    <Compile Include="$(SrcDir)\GlobalAssemblyInfo.cs">
      <Link>Properties\GlobalAssemblyInfo.cs</Link>
      <IsMxbuildTemplate>true</IsMxbuildTemplate>
    </Compile>
    <Compile Include="$(ExtIdDir)BuildInfo.cs">
      <DependentUpon>BuildInfo.t.cs</DependentUpon>
      <Link>Properties\BuildInfo.cs</Link>
    </Compile>
    <None Include="$(ExtIdDir)BuildInfo.t.cs">
      <IsMxbuildTemplate>true</IsMxbuildTemplate>
      <Link>Properties\BuildInfo.t.cs</Link>
      <CompileOutput>BuildInfo.cs</CompileOutput>
    </None>
    <Compile Include="$(ExtPackDir)PackageInfo.cs">
      <Link>Properties\PackageInfo.cs</Link>
    </Compile>
  </ItemGroup>
  <!--
  
    Nuget Pack
  -->
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'debug|pack' " />
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'release|pack' " />
  <PropertyGroup Condition=" '$(Plat)' == '$(PackPlatformId)' " />
  <ItemGroup Condition="'$(Plat)' == '$(PackPlatformId)' ">
    <SelfReference Include="$(DotNetLibraryPlatformId)" />
    <ProjectReference Include="..\Xamarin.Forms.Xaml.BuildTasks\Xamarin.Forms.Xaml.BuildTasks.csproj">
      <Project>{96D89208-4EB9-4451-BE73-8A9DF3D9D7B7}</Project>
      <Platform>$(PortablePlatformId)</Platform>
      <Name>Xamarin.Forms.Xaml.BuildTasks</Name>
    </ProjectReference>
    <!--
      content
    -->
    <None Include="$(ExtPackDir)Package.nuspec">
      <CopyTargetName>$(NuspecName)</CopyTargetName>
      <IsMxbuildTemplate>true</IsMxbuildTemplate>
      <Type>xml</Type>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      <Link>Package.nuspec</Link>
    </None>
  </ItemGroup>
  <!--
  
    Portable
  -->
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'debug|dotnet' " />
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'release|dotnet' " />
  <ItemGroup Condition=" '$(LibraryPlatform)' == '$(DotNetLibraryPlatformId)' ">
    <ProjectReference Include="..\Xamarin.Forms\Xamarin.Forms.csproj">
      <Project>{57B8B73D-C3B5-4C42-869E-7B2F17D354AC}</Project>
      <Name>Xamarin.Forms</Name>
    </ProjectReference>
  </ItemGroup>
  <!--
    ======
    SOURCE
    ======
  -->
  <ItemGroup>
    <Compile Include="MarkupExtensions\TemplateBindingExtension.cs" />
    <Compile Include="Properties\AssemblyInfo.cs" />
    <Compile Include="MarkupExpressionParser.cs" />
    <Compile Include="ViewExtensions.cs" />
    <Compile Include="XamlLoader.cs" />
    <Compile Include="XamlNode.cs" />
    <Compile Include="XamlServiceProvider.cs" />
    <Compile Include="XmlnsHelper.cs" />
    <Compile Include="IExpressionParser.cs" />
    <Compile Include="MarkupExtensionParser.cs" />
    <Compile Include="TypeConversionExtensions.cs" />
    <Compile Include="IDictionaryExtensions.cs" />
    <Compile Include="MarkupExtensions\NullExtension.cs" />
    <Compile Include="MarkupExtensions\ReferenceExtension.cs" />
    <Compile Include="MarkupExtensions\StaticExtension.cs" />
    <Compile Include="MarkupExtensions\TypeExtension.cs" />
    <Compile Include="MarkupExtensions\ArrayExtension.cs" />
    <Compile Include="XmlName.cs" />
    <Compile Include="XamlNodeVisitor.cs" />
    <Compile Include="NamescopingVisitor.cs" />
    <Compile Include="CreateValuesVisitor.cs" />
    <Compile Include="ApplyPropertiesVisitor.cs" />
    <Compile Include="HydratationContext.cs" />
    <Compile Include="RegisterXNamesVisitor.cs" />
    <Compile Include="XamlParser.cs" />
    <Compile Include="MarkupExtensions\BindingExtension.cs" />
    <Compile Include="MarkupExtensions\StaticResourceExtension.cs" />
    <Compile Include="MarkupExtensions\DynamicResourceExtension.cs" />
    <Compile Include="ValueConverterProvider.cs" />
    <Compile Include="FillResourceDictionariesVisitor.cs" />
    <Compile Include="ExpandMarkupsVisitor.cs" />
    <Compile Include="XamlCompilationAttribute.cs" />
    <Compile Include="TypeArgumentsParser.cs" />
    <Compile Include="PruneIgnoredNodesVisitor.cs" />
  </ItemGroup>
  <!--

    Targets
  -->
  <Import Project="$([MSBuild]::GetDirectoryNameOfFileAbove($(MSBuildThisFileDirectory), .targets))\.targets" />
</Project>